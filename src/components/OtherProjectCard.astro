---
import { Icon } from 'astro-icon/components';
import { TechIcons, type Project } from '../types/types';
import Tooltip from './Tooltip.astro';

interface Props {
    project: Project;
}

const { project } = Astro.props;
const { title, description, deploy, code, techs } = project;
---
<article>
<a href={deploy} target="_blank" title={title}>
    <article
        class='border-2 border-slate-200 dark:border-slate-600 rounded-lg p-5 group relative
    hover:border-slate-300 dark:hover:border-slate-400 hover:shadow transition-all duration-200 ease-in-out hover:-translate-y-1 h-full w-full block'>
        <h2 class='text-xl md:text-2xl font-bold text-slate-800 dark:text-white w-4/5'>{title}</h2>
        <p class='text-sm md:text-base text-slate-600 dark:text-slate-300'>{description}</p>
        <div class='flex gap-2 items-center mt-2'>
            {
                techs.map((tech) => (
                    <Tooltip
                        text={
                            //Map the enum value to the key
                            Object.keys(TechIcons)[Object.values(TechIcons).indexOf(tech)]
                        }>
                        <Icon name={`tech/${tech}`} class='size-6' />
                    </Tooltip>
                ))
            }
        </div>
        <a class='absolute top-5 right-3 size-6 h-7 w-12 rounded-lg text-slate-500 hover:text-slate-800 ' href={code} target='_blank'
            >Code</a
        >
    </article>
</a>
</article>